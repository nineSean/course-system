(self.webpackChunkclient=self.webpackChunkclient||[]).push([[118],{65771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),a=r(67724),o=r(84679);const l=(0,r(5977).EN)((function(e){return n.createElement("section",{className:o.Z.navBar},n.createElement(a.Z,{className:o.Z.leftIcon,onClick:function(){return e.history.goBack()}}),e.children)}))},14118:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E}),r(52262);var n=r(65400),a=(r(69852),r(97538)),o=(r(67272),r(51024)),l=(r(19373),r(11187)),c=r(65771),u=r(67294),s=r(73727),i=r(95127),m=r(37703),f=r(51686);const d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};var p=r(59408),v=function(e,t){return u.createElement(p.Z,Object.assign({},e,{ref:t,icon:d}))};v.displayName="MailOutlined";const g=u.forwardRef(v);var h=r(89366),Z=r(2603);const E=(0,m.$j)((function(e){return e.profile}),i.Z)((function(e){return u.createElement(u.Fragment,null,u.createElement(c.Z,null,"注册"),u.createElement(a.Z,{className:f.Z.form,onFinish:function(t){console.log("form data",t),e.register(t)},onFinishFailed:function(e){l.default.error("注册失败")}},u.createElement(a.Z.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}]},u.createElement(o.Z,{prefix:u.createElement(h.Z,null),placeholder:"用户名"})),u.createElement(a.Z.Item,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},u.createElement(o.Z.Password,{prefix:u.createElement(Z.Z,null),placeholder:"密码"})),u.createElement(a.Z.Item,{label:"确认密码",name:"confirmPassword",rules:[{required:!0,message:"请确认密码"}]},u.createElement(o.Z.Password,{prefix:u.createElement(Z.Z,null),placeholder:"确认密码"})),u.createElement(a.Z.Item,{label:"邮箱",name:"email",rules:[{type:"email"}]},u.createElement(o.Z,{prefix:u.createElement(g,null),placeholder:"邮箱"})),u.createElement(a.Z.Item,null,u.createElement(n.default,{type:"primary",htmlType:"submit"},"注册")," 或者 ",u.createElement(s.rU,{to:"/login"},"立即登录"))))}))},95127:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f}),r(19373);var n=r(11187),a=r(13270),o=r(70311);function l(e){return o.ZP.post("/user",e)}function c(e){return o.ZP.post("/session",e)}var u=r(75982);function s(e,t,r,n,a,o,l){try{var c=e[o](l),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function l(e){s(o,n,a,l,c,"next",e)}function c(e){s(o,n,a,l,c,"throw",e)}l(void 0)}))}}function m(e,t){localStorage.setItem("token",e),t((0,u.VF)("/profile"))}const f={validate:function(){return i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.ZP.get("/user");case 3:return t=e.sent,e.abrupt("return",{type:a.sO,payload:t});case 7:return e.prev=7,e.t0=e.catch(0),n.default.error(e.t0.message),e.abrupt("return",{type:a.sO,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},register:function(e){return function(){var t=i(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(e);case 3:(a=t.sent).success?r((0,u.VF)("login")):n.default.error(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.default.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},login:function(e){return function(){var t=i(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c(e);case 3:(a=t.sent).success?m(a.data.token,r):n.default.error(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n.default.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},logout:function(){return function(e){localStorage.removeItem("token"),e({type:a.Nv}),e((0,u.VF)("/login"))}},uploadAvatar:function(e){return{type:a.rv,payload:e}}}},84679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={"nav-bar":"index-module_nav-bar_3z2_Vu",navBar:"index-module_nav-bar_3z2_Vu","left-icon":"index-module_left-icon_3HQBgr",leftIcon:"index-module_left-icon_3HQBgr"};var a=r(74783)(e.id,{locals:!0});e.hot.dispose(a)},51686:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={form:"index-module_form_3-gxod"};var a=r(74783)(e.id,{locals:!0});e.hot.dispose(a)}}]);
//# sourceMappingURL=118.50cc.js.map